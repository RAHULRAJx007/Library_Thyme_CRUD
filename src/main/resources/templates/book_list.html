<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Book List</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background: url('https://images.pexels.com/photos/590493/pexels-photo-590493.jpeg?auto=compress&cs=tinysrgb&w=1600') no-repeat center center fixed;
      background-size: cover;
      font-family:'Segoe UI', sans-serif;
    }
    .overlay {
      background-color: rgba(255,255,255,0.9);
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 6px 20px rgba(0,0,0,0.25);
    }
    h1 {
      font-weight: 700;
      color: #0d6efd;
      text-shadow: 0 2px 4px rgba(0,0,0,0.2);
    }
    .cover-img {
      width: 60px;
      height: 80px;
      object-fit: cover;
      border-radius: 6px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.2);
      transition: transform 0.2s ease;
    }
    .cover-img:hover {
      transform: scale(1.1);
    }
  </style>
</head>
<body>

  <div class="container mt-5 overlay">
    <h1 class="text-center mb-4">Book List</h1>

    <table class="table table-bordered table-striped shadow">
      <thead class="table-dark">
        <tr>
          <th>ID</th>
          <th>Title</th>
          <th>Author</th>
          <th>Publication Year</th>
          <th>ISBN</th>
          <th>Cover Image</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <tr th:each="book : ${books}">
          <td th:text="${book.id}"></td>
          <td th:text="${book.title}"></td>
          <td th:text="${book.author}"></td>
          <td th:text="${book.publicationYear}"></td>
          <td th:text="${book.isbn}"></td>
          <td>
            <img th:src="@{/book/image/{id}(id=${book.id})}" alt="Cover" class="cover-img"/>
          </td>
          <td>
            <a th:href="@{/updatebook/{id}(id=${book.id})}" class="btn btn-sm btn-warning me-2">Edit</a>
            <a th:href="@{/delete/{id}(id=${book.id})}"
               onclick="return confirm('Are you sure you want to delete this book?')"
               class="btn btn-sm btn-danger">Delete</a>
          </td>
        </tr>
      </tbody>
    </table>

    <div class="text-center mt-3">
      <a th:href="@{/}" class="btn btn-success">Add New Book</a>
    </div>
  </div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>